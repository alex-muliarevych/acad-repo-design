#!/usr/bin/env node

const fs = require('fs');
const path = require('path');
const tar = require('tar');
const version = fs.readFileSync(path.resolve(__dirname, '../.version'));
const revisionDate = fs.readFileSync(path.resolve(__dirname, '../.revision'));
const tarballName = `app.frontend.${version}.${revisionDate}.tar`;

tar.c({
  gzip: true,
  file: path.resolve(__dirname, `../builds/${tarballName}`)
}, [
  '../public',
  '../.version',
  '../.revision'
], () => console.log(`${tarballName} has been created.`));
